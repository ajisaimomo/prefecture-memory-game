<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éƒ½é“åºœçœŒç¥çµŒè¡°å¼±ã‚²ãƒ¼ãƒ </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-family: 'Comic Sans MS', cursive, sans-serif;
        }
        
        .card {
            perspective: 1000px;
            cursor: pointer;
        }
        
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        
        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }
        
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            flex-direction: column;
            gap: 5px;
            padding: 10px;
        }
        
        .card-front {
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
            color: white;
            font-size: 2rem;
        }
        
        .card-back {
            background: white;
            color: #333;
            transform: rotateY(180deg);
            font-size: 16px;
        }
        
        .card-back.kanji-card {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
        }
        
        .card-back.hiragana-card {
            background: linear-gradient(45deg, #ffeaa7, #fdcb6e);
            color: #2d3436;
        }
        
        .mode-btn {
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }
        
        .mode-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }
        
        .mode-btn.selected {
            border-color: #667eea;
            transform: scale(1.05);
            background: linear-gradient(45deg, #fd79a8, #fdcb6e) !important;
            color: white;
        }
        
        .region-btn {
            transition: all 0.3s ease;
        }
        
        .region-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
        }
        
        .region-btn.selected {
            background: linear-gradient(45deg, #fd79a8, #fdcb6e) !important;
            color: white;
            transform: scale(1.05);
        }
        
        .matched {
            opacity: 0.6;
            pointer-events: none;
        }
        
        .pulse {
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .celebration {
            animation: bounce 0.6s ease-in-out;
        }
        
        @keyframes bounce {
            0%, 20%, 53%, 80%, 100% { transform: translate3d(0,0,0); }
            40%, 43% { transform: translate3d(0,-30px,0); }
            70% { transform: translate3d(0,-15px,0); }
            90% { transform: translate3d(0,-4px,0); }
        }

        .selected-region-tag {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 1.5rem;
            margin: 0.25rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        .selected-region-tag:hover {
            transform: scale(1.05);
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
        }

        .timer-display {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            background: rgba(255,255,255,0.9);
            border-radius: 10px;
            padding: 0.5rem 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        ruby {
            ruby-align: center;
        }
        
        rt {
            font-size: 0.6em;
            line-height: 1;
            color: inherit;
        }
        
        .ruby-hidden rt {
            display: none;
        }

        .ruby-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 10px 20px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .ruby-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
            background: linear-gradient(45deg, #ff6b6b, #ffd93d);
        }

        .ruby-toggle.ruby-off {
            background: linear-gradient(45deg, #95a5a6, #7f8c8d);
        }
    </style>
</head>
<body class="p-4">
    <!-- ãƒ«ãƒ“åˆ‡ã‚Šæ›¿ãˆãƒœã‚¿ãƒ³ -->
    <button id="rubyToggle" class="ruby-toggle" onclick="toggleRuby()">
        <i class="fas fa-font"></i> <ruby>ãƒ«ãƒ“<rt>ã‚‹ã³</rt></ruby><ruby>è¡¨<rt>ã²ã‚‡ã†</rt>ç¤º<rt>ã˜</rt></ruby>
    </button>

    <!-- ã‚¿ã‚¤ãƒˆãƒ« -->
    <div class="text-center mb-8">
        <h1 class="text-5xl font-bold text-white mb-4 animate__animated animate__bounceInDown">
            ğŸ—¾ <ruby>éƒ½<rt>ã¨</rt>é“<rt>ã©ã†</rt>åºœ<rt>ãµ</rt>çœŒ<rt>ã‘ã‚“</rt>ç¥<rt>ã—ã‚“</rt>çµŒ<rt>ã‘ã„</rt>è¡°<rt>ã™ã„</rt>å¼±<rt>ã˜ã‚ƒã</rt></ruby>ã‚²ãƒ¼ãƒ  ğŸ—¾
        </h1>
        <p class="text-xl text-white animate__animated animate__fadeInUp">
            <ruby>æ—¥<rt>ã«</rt>æœ¬<rt>ã»ã‚“</rt></ruby>ã®<ruby>åœ°<rt>ã¡</rt>ç†<rt>ã‚Š</rt></ruby>ã‚’<ruby>æ¥½<rt>ãŸã®</rt></ruby>ã—ã<ruby>è¦š<rt>ãŠã¼</rt></ruby>ãˆã‚ˆã†ï¼
        </p>
    </div>

    <!-- ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰é¸æŠç”»é¢ -->
    <div id="modeScreen" class="max-w-4xl mx-auto">
        <div class="bg-white rounded-3xl p-8 shadow-2xl animate__animated animate__zoomIn">
            <h2 class="text-3xl font-bold text-center mb-6 text-gray-800">
                ğŸ¯ <ruby>ã‚²ãƒ¼ãƒ <rt>ã’ãƒ¼ã‚€</rt>ãƒ¢ãƒ¼ãƒ‰<rt>ã‚‚ãƒ¼ã©</rt></ruby>ã‚’<ruby>é¸<rt>ãˆã‚‰</rt></ruby>ã¼ã†
            </h2>
            
            <!-- é¸æŠæ¸ˆã¿ãƒ¢ãƒ¼ãƒ‰è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
            <div class="mb-6">
                <h3 class="text-lg font-bold text-gray-700 mb-3 text-center"><ruby>é¸<rt>ã›ã‚“</rt>æŠ<rt>ãŸã</rt>æ¸ˆ<rt>ãš</rt></ruby>ã¿<ruby>ãƒ¢ãƒ¼ãƒ‰<rt>ã‚‚ãƒ¼ã©</rt></ruby>:</h3>
                <div id="selectedModeDisplay" class="min-h-[3rem] bg-gray-100 rounded-2xl p-3 flex flex-wrap items-center justify-center border-2 border-dashed border-gray-300">
                    <span class="text-gray-500"><ruby>ã‚²ãƒ¼ãƒ <rt>ã’ãƒ¼ã‚€</rt>ãƒ¢ãƒ¼ãƒ‰<rt>ã‚‚ãƒ¼ã©</rt></ruby>ã‚’<ruby>é¸<rt>ã›ã‚“</rt>æŠ<rt>ãŸã</rt></ruby>ã—ã¦ãã ã•ã„</span>
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <button class="mode-btn bg-blue-400 hover:bg-blue-500 text-white p-6 rounded-2xl text-lg font-bold" data-mode="prefecture">
                    ğŸï¸ <ruby>éƒ½<rt>ã¨</rt>é“<rt>ã©ã†</rt>åºœ<rt>ãµ</rt>çœŒ<rt>ã‘ã‚“</rt>å<rt>ã‚ã„</rt></ruby><br>
                    <small class="text-sm opacity-80">(<ruby>æ¼¢<rt>ã‹ã‚“</rt>å­—<rt>ã˜</rt></ruby> â‡” ã²ã‚‰ãŒãª)</small>
                </button>
                <button class="mode-btn bg-green-400 hover:bg-green-500 text-white p-6 rounded-2xl text-lg font-bold" data-mode="capital">
                    ğŸ›ï¸ <ruby>çœŒ<rt>ã‘ã‚“</rt>åº<rt>ã¡ã‚‡ã†</rt>æ‰€<rt>ã—ã‚‡</rt>åœ¨<rt>ã–ã„</rt>åœ°<rt>ã¡</rt></ruby><br>
                    <small class="text-sm opacity-80">(<ruby>æ¼¢<rt>ã‹ã‚“</rt>å­—<rt>ã˜</rt></ruby> â‡” ã²ã‚‰ãŒãª)</small>
                </button>
                <button class="mode-btn bg-purple-400 hover:bg-purple-500 text-white p-6 rounded-2xl text-lg font-bold" data-mode="mixed">
                    ğŸ”— <ruby>çœŒ<rt>ã‘ã‚“</rt>å<rt>ã‚ã„</rt></ruby>â‡”<ruby>çœŒ<rt>ã‘ã‚“</rt>åº<rt>ã¡ã‚‡ã†</rt>æ‰€<rt>ã—ã‚‡</rt>åœ¨<rt>ã–ã„</rt>åœ°<rt>ã¡</rt></ruby><br>
                    <small class="text-sm opacity-80">(<ruby>é–¢<rt>ã‹ã‚“</rt>é€£<rt>ã‚Œã‚“</rt></ruby>ã¥ã‘)</small>
                </button>
            </div>
            
            <div class="text-center">
                <button id="nextToRegionBtn" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white text-xl font-bold py-3 px-6 rounded-full shadow-lg transform transition hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                    ğŸ“ <ruby>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby><ruby>é¸<rt>ã›ã‚“</rt>æŠ<rt>ãŸã</rt></ruby>ã¸
                </button>
            </div>
        </div>
    </div>

    <!-- åœ°æ–¹é¸æŠç”»é¢ -->
    <div id="regionScreen" class="max-w-4xl mx-auto hidden">
        <div class="bg-white rounded-3xl p-8 shadow-2xl animate__animated animate__zoomIn">
            <h2 class="text-3xl font-bold text-center mb-6 text-gray-800">
                ğŸ“š <ruby>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby>ã‚’<ruby>é¸<rt>ãˆã‚‰</rt></ruby>ã¼ã†ï¼ˆ<ruby>æœ€<rt>ã•ã„</rt>å¤§<rt>ã ã„</rt></ruby>3ã¤ã¾ã§ï¼‰
            </h2>
            
            <!-- é¸æŠæ¸ˆã¿åœ°æ–¹è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
            <div class="mb-6">
                <h3 class="text-lg font-bold text-gray-700 mb-3 text-center"><ruby>é¸<rt>ã›ã‚“</rt>æŠ<rt>ãŸã</rt>æ¸ˆ<rt>ãš</rt></ruby>ã¿<ruby>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby>:</h3>
                <div id="selectedRegionsDisplay" class="min-h-[3rem] bg-gray-100 rounded-2xl p-3 flex flex-wrap items-center justify-center border-2 border-dashed border-gray-300">
                    <span class="text-gray-500"><ruby>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby>ã‚’<ruby>é¸<rt>ã›ã‚“</rt>æŠ<rt>ãŸã</rt></ruby>ã—ã¦ãã ã•ã„</span>
                </div>
            </div>
            
            <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-8">
                <button class="region-btn bg-blue-400 hover:bg-blue-500 text-white p-4 rounded-2xl text-lg font-bold" data-region="hokkaido-tohoku">
                    ğŸ”ï¸ <ruby>åŒ—<rt>ã»ã£</rt>æµ·<rt>ã‹ã„</rt>é“<rt>ã©ã†</rt></ruby>ãƒ»<ruby>æ±<rt>ã¨ã†</rt>åŒ—<rt>ã»ã</rt></ruby>
                </button>
                <button class="region-btn bg-green-400 hover:bg-green-500 text-white p-4 rounded-2xl text-lg font-bold" data-region="kanto">
                    ğŸ™ï¸ <ruby>é–¢<rt>ã‹ã‚“</rt>æ±<rt>ã¨ã†</rt>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby>
                </button>
                <button class="region-btn bg-yellow-400 hover:bg-yellow-500 text-white p-4 rounded-2xl text-lg font-bold" data-region="chubu">
                    ğŸ—» <ruby>ä¸­<rt>ã¡ã‚…ã†</rt>éƒ¨<rt>ã¶</rt>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby>
                </button>
                <button class="region-btn bg-purple-400 hover:bg-purple-500 text-white p-4 rounded-2xl text-lg font-bold" data-region="kinki">
                    ğŸ¯ <ruby>è¿‘<rt>ãã‚“</rt>ç•¿<rt>ã</rt>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby>
                </button>
                <button class="region-btn bg-red-400 hover:bg-red-500 text-white p-4 rounded-2xl text-lg font-bold" data-region="chugoku">
                    â›©ï¸ <ruby>ä¸­<rt>ã¡ã‚…ã†</rt>å›½<rt>ã”ã</rt>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby>
                </button>
                <button class="region-btn bg-cyan-400 hover:bg-cyan-500 text-white p-4 rounded-2xl text-lg font-bold" data-region="shikoku">
                    ğŸŒŠ <ruby>å››<rt>ã—</rt>å›½<rt>ã“ã</rt>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby>
                </button>
                <button class="region-btn bg-orange-400 hover:bg-orange-500 text-white p-4 rounded-2xl text-lg font-bold" data-region="kyushu-okinawa">
                    ğŸŒº <ruby>ä¹<rt>ãã‚…ã†</rt>å·<rt>ã—ã‚…ã†</rt></ruby>ãƒ»<ruby>æ²–<rt>ãŠã</rt>ç¸„<rt>ãªã‚</rt>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby>
                </button>
            </div>
            
            <div class="text-center">
                <p id="selectedRegionCount" class="text-lg mb-4 text-gray-600"><ruby>é¸<rt>ã›ã‚“</rt>æŠ<rt>ãŸã</rt>æ¸ˆ<rt>ãš</rt></ruby>ã¿: 0/3</p>
                <div class="flex gap-4 justify-center">
                    <button id="backToModeBtn" class="bg-gray-500 hover:bg-gray-600 text-white text-lg font-bold py-3 px-6 rounded-full">
                        â† <ruby>æˆ»<rt>ã‚‚ã©</rt></ruby>ã‚‹
                    </button>
                    <button id="startGameBtn" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white text-xl font-bold py-3 px-6 rounded-full shadow-lg transform transition hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                        ğŸ¯ ã‚²ãƒ¼ãƒ ã‚¹ã‚¿ãƒ¼ãƒˆï¼
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ã‚²ãƒ¼ãƒ ç”»é¢ -->
    <div id="gameScreen" class="max-w-6xl mx-auto hidden">
        <div class="bg-white rounded-3xl p-6 shadow-2xl">
            <div class="flex justify-between items-center mb-6 flex-wrap gap-4">
                <h2 class="text-3xl font-bold text-gray-800">ğŸ² <ruby>ç¥<rt>ã—ã‚“</rt>çµŒ<rt>ã‘ã„</rt>è¡°<rt>ã™ã„</rt>å¼±<rt>ã˜ã‚ƒã</rt></ruby>ã‚²ãƒ¼ãƒ </h2>
                <div class="flex gap-4 items-center flex-wrap">
                    <!-- ã‚¿ã‚¤ãƒãƒ¼è¡¨ç¤º -->
                    <div class="timer-display text-center">
                        <div class="text-sm text-gray-600">â±ï¸ <ruby>çµŒ<rt>ã‘ã„</rt>é<rt>ã‹</rt>æ™‚<rt>ã˜</rt>é–“<rt>ã‹ã‚“</rt></ruby></div>
                        <div id="gameTimer" class="text-lg font-bold text-purple-600">00:00</div>
                    </div>
                    <div class="text-lg font-bold text-gray-600">
                        ãƒãƒƒãƒ: <span id="matchCount" class="text-green-600">0</span>/<span id="totalPairs">0</span>
                    </div>
                    <button id="backToRegionBtn" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg">
                        â† <ruby>æˆ»<rt>ã‚‚ã©</rt></ruby>ã‚‹
                    </button>
                </div>
            </div>
            
            <!-- ã‚«ãƒ¼ãƒ‰é…ç½®ã‚¨ãƒªã‚¢ -->
            <div id="gameBoard" class="grid gap-3 mb-6"></div>
            
            <!-- ãƒãƒƒãƒã—ãŸèª¬æ˜è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
            <div id="matchDisplay" class="text-center p-4 bg-gradient-to-r from-green-400 to-blue-500 rounded-2xl hidden">
                <div class="text-white text-xl font-bold" id="matchedInfo"></div>
            </div>
        </div>
    </div>

    <!-- ã‚¯ãƒªã‚¢ç”»é¢ -->
    <div id="clearScreen" class="max-w-2xl mx-auto hidden">
        <div class="bg-white rounded-3xl p-8 shadow-2xl text-center animate__animated animate__zoomIn">
            <h2 class="text-5xl font-bold text-yellow-500 mb-4">ğŸ‰ ãŠã‚ã§ã¨ã†ï¼ ğŸ‰</h2>
            <p class="text-2xl text-gray-700 mb-4"><ruby>å…¨<rt>ã™ã¹</rt></ruby>ã¦ã®ãƒšã‚¢ã‚’<ruby>è¦‹<rt>ã¿</rt></ruby>ã¤ã‘ã¾ã—ãŸï¼</p>
            <!-- ã‚¯ãƒªã‚¢ã‚¿ã‚¤ãƒ è¡¨ç¤º -->
            <div class="timer-display text-2xl mb-6 inline-block">
                ğŸ† <ruby>ã‚¯ãƒªã‚¢<rt>ãã‚Šã‚</rt>ã‚¿ã‚¤ãƒ <rt>ãŸã„ã‚€</rt></ruby>: <span id="finalTime" class="text-purple-600 font-bold">00:00</span>
            </div>
            <div>
                <button id="playAgainBtn" class="bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white text-xl font-bold py-4 px-8 rounded-full shadow-lg transform transition hover:scale-105">
                    ğŸ”„ ã‚‚ã†<ruby>ä¸€<rt>ã„ã¡</rt>åº¦<rt>ã©</rt></ruby><ruby>éŠ<rt>ã‚ã</rt></ruby>ã¶
                </button>
            </div>
        </div>
    </div>

    <script>
        // ã‚²ãƒ¼ãƒ ãƒ‡ãƒ¼ã‚¿ï¼ˆå®Œå…¨ç‰ˆï¼‰
        const prefectureData = {
            hokkaido: { name: 'åŒ—æµ·é“', kana: 'ã»ã£ã‹ã„ã©ã†', region: 'hokkaido-tohoku', capital: 'æœ­å¹Œå¸‚', capitalKana: 'ã•ã£ã½ã‚ã—', specialties: 'ã‚«ãƒ‹ãƒ»ãƒ›ã‚¿ãƒ†ãƒ»ã˜ã‚ƒãŒã„ã‚‚', capitalFeatures: '<ruby>é›ª<rt>ã‚†ã</rt></ruby>ã¾ã¤ã‚Šãƒ»ãƒ©ãƒ¼ãƒ¡ãƒ³ãƒ»<ruby>æ™‚<rt>ã¨ã‘</rt>è¨ˆ<rt>ã„</rt>å°<rt>ã ã„</rt></ruby>' },
            aomori: { name: 'é’æ£®çœŒ', kana: 'ã‚ãŠã‚‚ã‚Šã‘ã‚“', region: 'hokkaido-tohoku', capital: 'é’æ£®å¸‚', capitalKana: 'ã‚ãŠã‚‚ã‚Šã—', specialties: 'ã‚Šã‚“ã”ãƒ»ã­ã¶ãŸãƒ»<ruby>å¤§<rt>ãŠãŠ</rt>é–“<rt>ã¾</rt></ruby>ã®ã¾ãã‚', capitalFeatures: 'ã­ã¶ãŸãƒ»ã‚Šã‚“ã”ãƒ»<ruby>æµ·<rt>ã†ã¿</rt></ruby>ã®<ruby>å¹¸<rt>ã•ã¡</rt></ruby>' },
            iwate: { name: 'å²©æ‰‹çœŒ', kana: 'ã„ã‚ã¦ã‘ã‚“', region: 'hokkaido-tohoku', capital: 'ç››å²¡å¸‚', capitalKana: 'ã‚‚ã‚ŠãŠã‹ã—', specialties: 'ã‚ã‚“ã“ãã°ãƒ»<ruby>å—<rt>ãªã‚“</rt>éƒ¨<rt>ã¶</rt>é‰„<rt>ã¦ã£</rt>å™¨<rt>ã</rt></ruby>ãƒ»<ruby>å‰<rt>ã¾ãˆ</rt>æ²¢<rt>ã•ã‚</rt>ç‰›<rt>ãã‚…ã†</rt></ruby>', capitalFeatures: 'ã‚ã‚“ã“ãã°ãƒ»<ruby>çŸ³<rt>ã„ã—</rt>å‰²<rt>ã‚ã‚Š</rt>æ¡œ<rt>ã–ãã‚‰</rt></ruby>' },
            miyagi: { name: 'å®®åŸçœŒ', kana: 'ã¿ã‚„ãã‘ã‚“', region: 'hokkaido-tohoku', capital: 'ä»™å°å¸‚', capitalKana: 'ã›ã‚“ã ã„ã—', specialties: '<ruby>ç‰›<rt>ãã‚…ã†</rt>ã‚¿ãƒ³<rt>ãŸã‚“</rt></ruby>ãƒ»<ruby>ç¬¹<rt>ã•ã•</rt></ruby>ã‹ã¾ã¼ã“ãƒ»ãšã‚“ã <ruby>é¤…<rt>ã‚‚ã¡</rt></ruby>', capitalFeatures: '<ruby>ä¸ƒ<rt>ãŸãª</rt>å¤•<rt>ã°ãŸ</rt></ruby>ãƒ»<ruby>ç‰›<rt>ãã‚…ã†</rt>ã‚¿ãƒ³<rt>ãŸã‚“</rt></ruby>ãƒ»<ruby>æœ<rt>ã‚‚ã‚Š</rt></ruby>ã®<ruby>éƒ½<rt>ã¿ã‚„ã“</rt></ruby>' },
            akita: { name: 'ç§‹ç”°çœŒ', kana: 'ã‚ããŸã‘ã‚“', region: 'hokkaido-tohoku', capital: 'ç§‹ç”°å¸‚', capitalKana: 'ã‚ããŸã—', specialties: 'ãã‚ŠãŸã‚“ã½ãƒ»ãªã¾ã¯ã’ãƒ»<ruby>æ¯”<rt>ã²</rt>å†…<rt>ãªã„</rt>åœ°<rt>ã˜</rt>é¶<rt>ã©ã‚Š</rt></ruby>', capitalFeatures: 'ãªã¾ã¯ã’ãƒ»<ruby>ç«¿<rt>ã‹ã‚“</rt>ç‡ˆ<rt>ã¨ã†</rt></ruby>ã¾ã¤ã‚Š' },
            yamagata: { name: 'å±±å½¢çœŒ', kana: 'ã‚„ã¾ãŒãŸã‘ã‚“', region: 'hokkaido-tohoku', capital: 'å±±å½¢å¸‚', capitalKana: 'ã‚„ã¾ãŒãŸã—', specialties: 'ã•ãã‚‰ã‚“ã¼ãƒ»ãƒ©ãƒ»ãƒ•ãƒ©ãƒ³ã‚¹ãƒ»<ruby>ç±³<rt>ã‚ˆã­</rt>æ²¢<rt>ã–ã‚</rt>ç‰›<rt>ãã‚…ã†</rt></ruby>', capitalFeatures: '<ruby>ç´…<rt>ã¹ã«</rt>èŠ±<rt>ã°ãª</rt></ruby>ãƒ»<ruby>èŠ‹<rt>ã„ã‚‚</rt>ç…®<rt>ã«</rt></ruby>ãƒ»<ruby>è”µ<rt>ã–</rt>ç‹<rt>ãŠã†</rt></ruby>' },
            fukushima: { name: 'ç¦å³¶çœŒ', kana: 'ãµãã—ã¾ã‘ã‚“', region: 'hokkaido-tohoku', capital: 'ç¦å³¶å¸‚', capitalKana: 'ãµãã—ã¾ã—', specialties: '<ruby>æ¡ƒ<rt>ã‚‚ã‚‚</rt></ruby>ãƒ»<ruby>èµ¤<rt>ã‚ã‹</rt></ruby>ã¹ã“ãƒ»<ruby>å–œ<rt>ã</rt>å¤š<rt>ãŸ</rt>æ–¹<rt>ã‹ãŸ</rt></ruby>ãƒ©ãƒ¼ãƒ¡ãƒ³', capitalFeatures: '<ruby>æ¡ƒ<rt>ã‚‚ã‚‚</rt></ruby>ãƒ»<ruby>æ¸©<rt>ãŠã‚“</rt>æ³‰<rt>ã›ã‚“</rt></ruby>ãƒ»<ruby>ä¿¡<rt>ã—ã®</rt>å¤«<rt>ã¶</rt>å±±<rt>ã‚„ã¾</rt></ruby>' },
            ibaraki: { name: 'èŒ¨åŸçœŒ', kana: 'ã„ã°ã‚‰ãã‘ã‚“', region: 'kanto', capital: 'æ°´æˆ¸å¸‚', capitalKana: 'ã¿ã¨ã—', specialties: '<ruby>ç´<rt>ãªã£</rt>è±†<rt>ã¨ã†</rt></ruby>ãƒ»ãƒ¡ãƒ­ãƒ³ãƒ»ã»ã—ã„ã‚‚', capitalFeatures: '<ruby>ç´<rt>ãªã£</rt>è±†<rt>ã¨ã†</rt></ruby>ãƒ»<ruby>å•<rt>ã‹ã„</rt>æ¥½<rt>ã‚‰ã</rt>åœ’<rt>ãˆã‚“</rt></ruby>ãƒ»<ruby>æ¢…<rt>ã†ã‚</rt></ruby>ã¾ã¤ã‚Š' },
            tochigi: { name: 'æ ƒæœ¨çœŒ', kana: 'ã¨ã¡ãã‘ã‚“', region: 'kanto', capital: 'å®‡éƒ½å®®å¸‚', capitalKana: 'ã†ã¤ã®ã¿ã‚„ã—', specialties: '<ruby>é¤ƒ<rt>ãã‚‡ã†</rt>å­<rt>ã–</rt></ruby>ãƒ»ã„ã¡ã”ãƒ»ã‹ã‚“ã´ã‚‡ã†', capitalFeatures: '<ruby>é¤ƒ<rt>ãã‚‡ã†</rt>å­<rt>ã–</rt></ruby>ãƒ»<ruby>å¤§<rt>ãŠãŠ</rt>è°·<rt>ã‚„</rt>çŸ³<rt>ã„ã—</rt></ruby>' },
            gunma: { name: 'ç¾¤é¦¬çœŒ', kana: 'ãã‚“ã¾ã‘ã‚“', region: 'kanto', capital: 'å‰æ©‹å¸‚', capitalKana: 'ã¾ãˆã°ã—ã—', specialties: 'ã“ã‚“ã«ã‚ƒããƒ»ã ã‚‹ã¾ãƒ»<ruby>æ¸©<rt>ãŠã‚“</rt>æ³‰<rt>ã›ã‚“</rt></ruby>ã¾ã‚“ã˜ã‚…ã†', capitalFeatures: '<ruby>èµ¤<rt>ã‚ã‹</rt>åŸ<rt>ã</rt>å±±<rt>ã‚„ã¾</rt></ruby>ãƒ»<ruby>è±š<rt>ã¶ãŸ</rt>è‚‰<rt>ã«ã</rt></ruby>ãƒ»<ruby>ç„¼<rt>ã‚„</rt></ruby>ãã¾ã‚“ã˜ã‚…ã†' },
            saitama: { name: 'åŸ¼ç‰çœŒ', kana: 'ã•ã„ãŸã¾ã‘ã‚“', region: 'kanto', capital: 'ã•ã„ãŸã¾å¸‚', capitalKana: 'ã•ã„ãŸã¾ã—', specialties: '<ruby>è‰<rt>ãã†</rt>åŠ <rt>ã‹</rt></ruby>ã›ã‚“ã¹ã„ãƒ»ã­ããƒ»<ruby>ç‹­<rt>ã•</rt>å±±<rt>ã‚„ã¾</rt>èŒ¶<rt>ã¡ã‚ƒ</rt></ruby>', capitalFeatures: '<ruby>ç›†<rt>ã¼ã‚“</rt>æ ½<rt>ã•ã„</rt></ruby>ãƒ»<ruby>é‰„<rt>ã¦ã¤</rt>é“<rt>ã©ã†</rt>åš<rt>ã¯ã</rt>ç‰©<rt>ã¶ã¤</rt>é¤¨<rt>ã‹ã‚“</rt></ruby>' },
            chiba: { name: 'åƒè‘‰çœŒ', kana: 'ã¡ã°ã‘ã‚“', region: 'kanto', capital: 'åƒè‘‰å¸‚', capitalKana: 'ã¡ã°ã—', specialties: '<ruby>è½<rt>ã‚‰ã£</rt>èŠ±<rt>ã‹</rt>ç”Ÿ<rt>ã›ã„</rt></ruby>ãƒ»ã³ã‚ãƒ»<ruby>èœ<rt>ãª</rt></ruby>ã®<ruby>èŠ±<rt>ã¯ãª</rt></ruby>', capitalFeatures: '<ruby>è½<rt>ã‚‰ã£</rt>èŠ±<rt>ã‹</rt>ç”Ÿ<rt>ã›ã„</rt></ruby>ãƒ»ãƒ¢ãƒãƒ¬ãƒ¼ãƒ«' },
            tokyo: { name: 'æ±äº¬éƒ½', kana: 'ã¨ã†ãã‚‡ã†ã¨', region: 'kanto', capital: 'æ–°å®¿åŒº', capitalKana: 'ã—ã‚“ã˜ã‚…ãã', specialties: '<ruby>æ±<rt>ã¨ã†</rt>äº¬<rt>ãã‚‡ã†</rt>ã‚¿ãƒ¯ãƒ¼<rt>ãŸã‚ãƒ¼</rt></ruby>ãƒ»<ruby>é›·<rt>ã‹ã¿ãªã‚Š</rt></ruby>ãŠã“ã—ãƒ»ã‚‚ã‚“ã˜ã‚ƒ', capitalFeatures: '<ruby>éƒ½<rt>ã¨</rt>åº<rt>ã¡ã‚‡ã†</rt></ruby>ãƒ»<ruby>é«˜<rt>ã“ã†</rt>å±¤<rt>ãã†</rt>ãƒ“ãƒ«<rt>ã³ã‚‹</rt></ruby>ãƒ»<ruby>å¤§<rt>ã ã„</rt>éƒ½<rt>ã¨</rt>ä¼š<rt>ã‹ã„</rt></ruby>' },
            kanagawa: { name: 'ç¥å¥ˆå·çœŒ', kana: 'ã‹ãªãŒã‚ã‘ã‚“', region: 'kanto', capital: 'æ¨ªæµœå¸‚', capitalKana: 'ã‚ˆã“ã¯ã¾ã—', specialties: 'ã‚·ãƒ¥ãƒ¼ãƒã‚¤ãƒ»<ruby>ä¸­<rt>ã¡ã‚…ã†</rt>è¯<rt>ã‹</rt></ruby>ã¾ã‚“ãƒ»<ruby>éŒ<rt>ã‹ã¾</rt>å€‰<rt>ãã‚‰</rt>å¤§<rt>ã ã„</rt>ä»<rt>ã¶ã¤</rt></ruby>', capitalFeatures: '<ruby>ä¸­<rt>ã¡ã‚…ã†</rt>è¯<rt>ã‹</rt>è¡—<rt>ãŒã„</rt></ruby>ãƒ»<ruby>æ¸¯<rt>ã¿ãªã¨</rt></ruby>ãƒ»ã¿ãªã¨ã¿ã‚‰ã„' },
            niigata: { name: 'æ–°æ½ŸçœŒ', kana: 'ã«ã„ãŒãŸã‘ã‚“', region: 'chubu', capital: 'æ–°æ½Ÿå¸‚', capitalKana: 'ã«ã„ãŒãŸã—', specialties: 'ã‚³ã‚·ãƒ’ã‚«ãƒªãƒ»<ruby>æ—¥<rt>ã«</rt>æœ¬<rt>ã»ã‚“</rt>é…’<rt>ã—ã‚…</rt></ruby>ãƒ»ã¸ããã°', capitalFeatures: '<ruby>ç±³<rt>ã“ã‚</rt></ruby>ãƒ»<ruby>æ—¥<rt>ã«</rt>æœ¬<rt>ã»ã‚“</rt>é…’<rt>ã—ã‚…</rt></ruby>ãƒ»<ruby>ä¿¡<rt>ã—ãª</rt>æ¿ƒ<rt>ã®</rt>å·<rt>ãŒã‚</rt></ruby>' },
            toyama: { name: 'å¯Œå±±çœŒ', kana: 'ã¨ã‚„ã¾ã‘ã‚“', region: 'chubu', capital: 'å¯Œå±±å¸‚', capitalKana: 'ã¨ã‚„ã¾ã—', specialties: 'ãƒ›ã‚¿ãƒ«ã‚¤ã‚«ãƒ»ã¾ã™<ruby>å¯¿<rt>ã™</rt>å¸<rt>ã—</rt></ruby>ãƒ»<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>', capitalFeatures: '<ruby>è–¬<rt>ãã™ã‚Š</rt></ruby>ãƒ»ã‚¬ãƒ©ã‚¹<ruby>å·¥<rt>ã“ã†</rt>èŠ¸<rt>ã’ã„</rt></ruby>' },
            ishikawa: { name: 'çŸ³å·çœŒ', kana: 'ã„ã—ã‹ã‚ã‘ã‚“', region: 'chubu', capital: 'é‡‘æ²¢å¸‚', capitalKana: 'ã‹ãªã–ã‚ã—', specialties: '<ruby>å…¼<rt>ã‘ã‚“</rt>å…­<rt>ã‚ã</rt>åœ’<rt>ãˆã‚“</rt></ruby>ãƒ»<ruby>é‡‘<rt>ãã‚“</rt>ç®”<rt>ã±ã</rt></ruby>ãƒ»<ruby>åŠ <rt>ã‹</rt>è³€<rt>ãŒ</rt>å‹<rt>ã‚†ã†</rt>ç¦…<rt>ãœã‚“</rt></ruby>', capitalFeatures: '<ruby>å…¼<rt>ã‘ã‚“</rt>å…­<rt>ã‚ã</rt>åœ’<rt>ãˆã‚“</rt></ruby>ãƒ»<ruby>èŒ¶<rt>ã¡ã‚ƒ</rt>å±‹<rt>ã‚„</rt>è¡—<rt>ãŒã„</rt></ruby>ãƒ»<ruby>å’Œ<rt>ã‚</rt>è“<rt>ãŒ</rt>å­<rt>ã—</rt></ruby>' },
            fukui: { name: 'ç¦äº•çœŒ', kana: 'ãµãã„ã‘ã‚“', region: 'chubu', capital: 'ç¦äº•å¸‚', capitalKana: 'ãµãã„ã—', specialties: 'ã‚«ãƒ‹ãƒ»<ruby>æ<rt>ãã‚‡ã†</rt>ç«œ<rt>ã‚Šã‚…ã†</rt></ruby>ãƒ»<ruby>è¶Š<rt>ãˆã¡</rt>å‰<rt>ãœã‚“</rt></ruby>ãã°', capitalFeatures: '<ruby>æ<rt>ãã‚‡ã†</rt>ç«œ<rt>ã‚Šã‚…ã†</rt></ruby>ãƒ»ã‚«ãƒ‹ãƒ»<ruby>æ°¸<rt>ãˆã„</rt>å¹³<rt>ã¸ã„</rt>å¯º<rt>ã˜</rt></ruby>' },
            yamanashi: { name: 'å±±æ¢¨çœŒ', kana: 'ã‚„ã¾ãªã—ã‘ã‚“', region: 'chubu', capital: 'ç”²åºœå¸‚', capitalKana: 'ã“ã†ãµã—', specialties: 'ã¶ã©ã†ãƒ»<ruby>æ¡ƒ<rt>ã‚‚ã‚‚</rt></ruby>ãƒ»ã»ã†ã¨ã†', capitalFeatures: 'ã¶ã©ã†ãƒ»<ruby>å®<rt>ã»ã†</rt>çŸ³<rt>ã›ã</rt></ruby>ãƒ»<ruby>æ­¦<rt>ãŸã‘</rt>ç”°<rt>ã </rt>ä¿¡<rt>ã—ã‚“</rt>ç„<rt>ã’ã‚“</rt></ruby>' },
            nagano: { name: 'é•·é‡çœŒ', kana: 'ãªãŒã®ã‘ã‚“', region: 'chubu', capital: 'é•·é‡å¸‚', capitalKana: 'ãªãŒã®ã—', specialties: 'ã‚Šã‚“ã”ãƒ»ãã°ãƒ»<ruby>é‡<rt>ã®</rt>æ²¢<rt>ã–ã‚</rt>èœ<rt>ãª</rt></ruby>', capitalFeatures: '<ruby>å–„<rt>ãœã‚“</rt>å…‰<rt>ã“ã†</rt>å¯º<rt>ã˜</rt></ruby>ãƒ»ãã°ãƒ»ã‚Šã‚“ã”' },
            gifu: { name: 'å²é˜œçœŒ', kana: 'ããµã‘ã‚“', region: 'chubu', capital: 'å²é˜œå¸‚', capitalKana: 'ããµã—', specialties: '<ruby>é£›<rt>ã²</rt>é¨¨<rt>ã </rt>ç‰›<rt>ãã‚…ã†</rt></ruby>ãƒ»<ruby>æŸ¿<rt>ã‹ã</rt></ruby>ãƒ»<ruby>é®<rt>ã‚ã‚†</rt></ruby>', capitalFeatures: '<ruby>ç¹”<rt>ãŠ</rt>ç”°<rt>ã </rt>ä¿¡<rt>ã®ã¶</rt>é•·<rt>ãªãŒ</rt></ruby>ãƒ»<ruby>é•·<rt>ãªãŒ</rt>è‰¯<rt>ã‚‰</rt>å·<rt>ãŒã‚</rt></ruby>ãƒ»<ruby>éµœ<rt>ã†</rt>é£¼<rt>ã‹</rt></ruby>ã„' },
            shizuoka: { name: 'é™å²¡çœŒ', kana: 'ã—ãšãŠã‹ã‘ã‚“', region: 'chubu', capital: 'é™å²¡å¸‚', capitalKana: 'ã—ãšãŠã‹ã—', specialties: 'ãŠ<ruby>èŒ¶<rt>ã¡ã‚ƒ</rt></ruby>ãƒ»ã†ãªããƒ»ã¿ã‹ã‚“', capitalFeatures: 'ãŠ<ruby>èŒ¶<rt>ã¡ã‚ƒ</rt></ruby>ãƒ»ãƒ—ãƒ©ãƒ¢ãƒ‡ãƒ«' },
            aichi: { name: 'æ„›çŸ¥çœŒ', kana: 'ã‚ã„ã¡ã‘ã‚“', region: 'chubu', capital: 'åå¤å±‹å¸‚', capitalKana: 'ãªã”ã‚„ã—', specialties: '<ruby>è‡ª<rt>ã˜</rt>å‹•<rt>ã©ã†</rt>è»Š<rt>ã—ã‚ƒ</rt></ruby>ãƒ»ãˆã³ã›ã‚“ãƒ»<ruby>å‘³<rt>ã¿</rt>å™Œ<rt>ã</rt></ruby>ã‚«ãƒ„', capitalFeatures: '<ruby>é‡‘<rt>ãã‚“</rt></ruby>ã®ã—ã‚ƒã¡ã»ã“ãƒ»<ruby>å‘³<rt>ã¿</rt>å™Œ<rt>ã</rt></ruby>ã‚«ãƒ„' },
            mie: { name: 'ä¸‰é‡çœŒ', kana: 'ã¿ãˆã‘ã‚“', region: 'kinki', capital: 'æ´¥å¸‚', capitalKana: 'ã¤ã—', specialties: '<ruby>ä¼Š<rt>ã„</rt>å‹¢<rt>ã›</rt></ruby>ã‚¨ãƒ“ãƒ»<ruby>æ¾<rt>ã¾ã¤</rt>é˜ª<rt>ã•ã‹</rt>ç‰›<rt>ãã‚…ã†</rt></ruby>ãƒ»<ruby>çœŸ<rt>ã—ã‚“</rt>ç <rt>ã˜ã‚…</rt></ruby>', capitalFeatures: '<ruby>é°»<rt>ã†ãªã</rt></ruby>ãƒ»ãŠ<ruby>ä¼Š<rt>ã„</rt>å‹¢<rt>ã›</rt></ruby>ã•ã‚“' },
            shiga: { name: 'æ»‹è³€çœŒ', kana: 'ã—ãŒã‘ã‚“', region: 'kinki', capital: 'å¤§æ´¥å¸‚', capitalKana: 'ãŠãŠã¤ã—', specialties: '<ruby>çµ<rt>ã³</rt>ç¶<rt>ã‚</rt>æ¹–<rt>ã“</rt></ruby>ãƒ»<ruby>è¿‘<rt>ãŠã†</rt>æ±Ÿ<rt>ã¿</rt>ç‰›<rt>ãã‚…ã†</rt></ruby>ãƒ»ãµãªãšã—', capitalFeatures: '<ruby>çµ<rt>ã³</rt>ç¶<rt>ã‚</rt>æ¹–<rt>ã“</rt></ruby>ãƒ»<ruby>æ¯”<rt>ã²</rt>å¡<rt>ãˆã„</rt>å±±<rt>ã–ã‚“</rt></ruby>ãƒ»<ruby>è¿‘<rt>ãŠã†</rt>æ±Ÿ<rt>ã¿</rt>ç±³<rt>ã¾ã„</rt></ruby>' },
            kyoto: { name: 'äº¬éƒ½åºœ', kana: 'ãã‚‡ã†ã¨ãµ', region: 'kinki', capital: 'äº¬éƒ½å¸‚', capitalKana: 'ãã‚‡ã†ã¨ã—', specialties: '<ruby>æŠ¹<rt>ã¾ã£</rt>èŒ¶<rt>ã¡ã‚ƒ</rt></ruby>ãƒ»<ruby>å…«<rt>ã‚„ã¤</rt></ruby>ãƒ„<ruby>æ©‹<rt>ã¯ã—</rt></ruby>ãƒ»<ruby>äº¬<rt>ãã‚‡ã†</rt>é‡<rt>ã‚„</rt>èœ<rt>ã•ã„</rt></ruby>', capitalFeatures: '<ruby>å¯º<rt>ã˜</rt>ç¤¾<rt>ã—ã‚ƒ</rt>ä»<rt>ã¶ã£</rt>é–£<rt>ã‹ã</rt></ruby>ãƒ»<ruby>èˆ<rt>ã¾ã„</rt>å¦“<rt>ã“</rt></ruby>ã•ã‚“ãƒ»ãŠ<ruby>æŠ¹<rt>ã¾ã£</rt>èŒ¶<rt>ã¡ã‚ƒ</rt></ruby>' },
            osaka: { name: 'å¤§é˜ªåºœ', kana: 'ãŠãŠã•ã‹ãµ', region: 'kinki', capital: 'å¤§é˜ªå¸‚', capitalKana: 'ãŠãŠã•ã‹ã—', specialties: 'ãŸã“<ruby>ç„¼<rt>ã‚„</rt></ruby>ããƒ»ãŠ<ruby>å¥½<rt>ã“ã®</rt></ruby>ã¿<ruby>ç„¼<rt>ã‚„</rt></ruby>ããƒ»<ruby>ä¸²<rt>ãã—</rt></ruby>ã‚«ãƒ„', capitalFeatures: 'ãŸã“<ruby>ç„¼<rt>ã‚„</rt></ruby>ããƒ»ãŠ<ruby>ç¬‘<rt>ã‚ã‚‰</rt></ruby>ã„ãƒ»<ruby>é“<rt>ã©ã†</rt>é “<rt>ã¨ã‚“</rt>å €<rt>ã¼ã‚Š</rt></ruby>' },
            hyogo: { name: 'å…µåº«çœŒ', kana: 'ã²ã‚‡ã†ã”ã‘ã‚“', region: 'kinki', capital: 'ç¥æˆ¸å¸‚', capitalKana: 'ã“ã†ã¹ã—', specialties: '<ruby>ç¥<rt>ã“ã†</rt>æˆ¸<rt>ã¹</rt>ç‰›<rt>ãã‚…ã†</rt></ruby>ãƒ»<ruby>æ˜<rt>ã‚ã‹</rt>çŸ³<rt>ã—</rt></ruby><ruby>ç„¼<rt>ã‚„</rt></ruby>ããƒ»<ruby>ç‰<rt>ãŸã¾</rt></ruby>ã­ã', capitalFeatures: 'ãƒãƒ¼ãƒˆã‚¿ãƒ¯ãƒ¼ãƒ»<ruby>ç•°<rt>ã„</rt>äºº<rt>ã˜ã‚“</rt>é¤¨<rt>ã‹ã‚“</rt></ruby>ãƒ»ãƒ‘ãƒ³' },
            nara: { name: 'å¥ˆè‰¯çœŒ', kana: 'ãªã‚‰ã‘ã‚“', region: 'kinki', capital: 'å¥ˆè‰¯å¸‚', capitalKana: 'ãªã‚‰ã—', specialties: '<ruby>æŸ¿<rt>ã‹ã</rt></ruby>ã®<ruby>è‘‰<rt>ã¯</rt>å¯¿<rt>ãš</rt>å¸<rt>ã—</rt></ruby>ãƒ»<ruby>å¥ˆ<rt>ãª</rt>è‰¯<rt>ã‚‰</rt></ruby><ruby>æ¼¬<rt>ã¥</rt></ruby>ã‘ãƒ»<ruby>å‰<rt>ã‚ˆã—</rt>é‡<rt>ã®</rt>æ‰<rt>ã™ã</rt></ruby>', capitalFeatures: '<ruby>å¤§<rt>ã ã„</rt>ä»<rt>ã¶ã¤</rt></ruby>ãƒ»<ruby>é¹¿<rt>ã—ã‹</rt></ruby>ãƒ»<ruby>æ±<rt>ã¨ã†</rt>å¤§<rt>ã ã„</rt>å¯º<rt>ã˜</rt></ruby>' },
            wakayama: { name: 'å’Œæ­Œå±±çœŒ', kana: 'ã‚ã‹ã‚„ã¾ã‘ã‚“', region: 'kinki', capital: 'å’Œæ­Œå±±å¸‚', capitalKana: 'ã‚ã‹ã‚„ã¾ã—', specialties: 'ã¿ã‹ã‚“ãƒ»<ruby>æ¢…<rt>ã†ã‚</rt>å¹²<rt>ã¼</rt></ruby>ã—ãƒ»ãƒ‘ãƒ³ãƒ€', capitalFeatures: '<ruby>å’Œ<rt>ã‚</rt>æ­Œ<rt>ã‹</rt>å±±<rt>ã‚„ã¾</rt>åŸ<rt>ã˜ã‚‡ã†</rt></ruby>ãƒ»ã¿ã‹ã‚“' },
            tottori: { name: 'é³¥å–çœŒ', kana: 'ã¨ã£ã¨ã‚Šã‘ã‚“', region: 'chugoku', capital: 'é³¥å–å¸‚', capitalKana: 'ã¨ã£ã¨ã‚Šã—', specialties: '<ruby>ç ‚<rt>ã•</rt>ä¸˜<rt>ãã‚…ã†</rt></ruby>ãƒ»<ruby>æ¢¨<rt>ãªã—</rt></ruby>ãƒ»ã‚«ãƒ‹', capitalFeatures: '<ruby>ç ‚<rt>ã•</rt>ä¸˜<rt>ãã‚…ã†</rt></ruby>ãƒ»<ruby>äºŒ<rt>ã«</rt>å<rt>ã˜ã‚…ã†</rt>ä¸–<rt>ã›ã„</rt>ç´€<rt>ã</rt>æ¢¨<rt>ãªã—</rt></ruby>' },
            shimane: { name: 'å³¶æ ¹çœŒ', kana: 'ã—ã¾ã­ã‘ã‚“', region: 'chugoku', capital: 'æ¾æ±Ÿå¸‚', capitalKana: 'ã¾ã¤ãˆã—', specialties: 'ã—ã˜ã¿ãƒ»<ruby>å‡º<rt>ã„ãš</rt>é›²<rt>ã‚‚</rt></ruby>ãã°ãƒ»<ruby>çŸ³<rt>ã„ã‚</rt>è¦‹<rt>ã¿</rt>éŠ€<rt>ãã‚“</rt>å±±<rt>ã–ã‚“</rt></ruby>', capitalFeatures: '<ruby>å®<rt>ã—ã‚“</rt>é“<rt>ã˜</rt>æ¹–<rt>ã“</rt></ruby>ãƒ»<ruby>å €<rt>ã»ã‚Š</rt>å·<rt>ã‹ã‚</rt>éŠ<rt>ã‚†ã†</rt>è¦§<rt>ã‚‰ã‚“</rt></ruby>' },
            okayama: { name: 'å²¡å±±çœŒ', kana: 'ãŠã‹ã‚„ã¾ã‘ã‚“', region: 'chugoku', capital: 'å²¡å±±å¸‚', capitalKana: 'ãŠã‹ã‚„ã¾ã—', specialties: '<ruby>æ¡ƒ<rt>ã‚‚ã‚‚</rt></ruby>ãƒ»ãƒã‚¹ã‚«ãƒƒãƒˆãƒ»ãã³ã ã‚“ã”', capitalFeatures: '<ruby>æ¡ƒ<rt>ã‚‚ã‚‚</rt>å¤ª<rt>ãŸ</rt>éƒ<rt>ã‚ã†</rt></ruby>ãƒ»<ruby>å¾Œ<rt>ã“ã†</rt>æ¥½<rt>ã‚‰ã</rt>åœ’<rt>ãˆã‚“</rt></ruby>' },
            hiroshima: { name: 'åºƒå³¶çœŒ', kana: 'ã²ã‚ã—ã¾ã‘ã‚“', region: 'chugoku', capital: 'åºƒå³¶å¸‚', capitalKana: 'ã²ã‚ã—ã¾ã—', specialties: 'ãŠ<ruby>å¥½<rt>ã“ã®</rt></ruby>ã¿<ruby>ç„¼<rt>ã‚„</rt></ruby>ããƒ»ã‚‚ã¿ã˜<ruby>é¥…<rt>ã¾ã‚“</rt>é ­<rt>ã˜ã‚…ã†</rt></ruby>ãƒ»ã‚«ã‚­', capitalFeatures: '<ruby>å¹³<rt>ã¸ã„</rt>å’Œ<rt>ã‚</rt></ruby>ãƒ»ãŠ<ruby>å¥½<rt>ã“ã®</rt></ruby>ã¿<ruby>ç„¼<rt>ã‚„</rt></ruby>ããƒ»ã‚«ã‚­' },
            yamaguchi: { name: 'å±±å£çœŒ', kana: 'ã‚„ã¾ãã¡ã‘ã‚“', region: 'chugoku', capital: 'å±±å£å¸‚', capitalKana: 'ã‚„ã¾ãã¡ã—', specialties: 'ãµããƒ»<ruby>å¤<rt>ãªã¤</rt></ruby>ã¿ã‹ã‚“ãƒ»ã‹ã¾ã¼ã“', capitalFeatures: '<ruby>ç‘ <rt>ã‚‹</rt>ç’ƒ<rt>ã‚Š</rt>å…‰<rt>ã“ã†</rt>å¯º<rt>ã˜</rt></ruby>ãƒ»SLã‚„ã¾ãã¡' },
            tokushima: { name: 'å¾³å³¶çœŒ', kana: 'ã¨ãã—ã¾ã‘ã‚“', region: 'shikoku', capital: 'å¾³å³¶å¸‚', capitalKana: 'ã¨ãã—ã¾ã—', specialties: 'ã™ã ã¡ãƒ»<ruby>é˜¿<rt>ã‚</rt>æ³¢<rt>ã‚</rt></ruby><ruby>è¸Š<rt>ãŠã©</rt></ruby>ã‚Šãƒ»<ruby>é³´<rt>ãªã‚‹</rt>é–€<rt>ã¨</rt>é‡‘<rt>ãã‚“</rt>æ™‚<rt>ã¨ã</rt></ruby>', capitalFeatures: '<ruby>é˜¿<rt>ã‚</rt>æ³¢<rt>ã‚</rt></ruby><ruby>è¸Š<rt>ãŠã©</rt></ruby>ã‚Šãƒ»<ruby>é³´<rt>ãªã‚‹</rt>é–€<rt>ã¨</rt></ruby>ã®<ruby>æ¸¦<rt>ã†ãš</rt>æ½®<rt>ã—ãŠ</rt></ruby>' },
            kagawa: { name: 'é¦™å·çœŒ', kana: 'ã‹ãŒã‚ã‘ã‚“', region: 'shikoku', capital: 'é«˜æ¾å¸‚', capitalKana: 'ãŸã‹ã¾ã¤ã—', specialties: 'ã†ã©ã‚“ãƒ»<ruby>éª¨<rt>ã»ã­</rt>ä»˜<rt>ã¤ã</rt>é³¥<rt>ã©ã‚Š</rt></ruby>ãƒ»<ruby>å’Œ<rt>ã‚</rt>ä¸‰<rt>ã•ã‚“</rt>ç›†<rt>ã¼ã‚“</rt></ruby>', capitalFeatures: 'ã†ã©ã‚“ãƒ»<ruby>æ —<rt>ã‚Šã¤</rt>æ—<rt>ã‚Šã‚“</rt>å…¬<rt>ã“ã†</rt>åœ’<rt>ãˆã‚“</rt></ruby>' },
            ehime: { name: 'æ„›åª›çœŒ', kana: 'ãˆã²ã‚ã‘ã‚“', region: 'shikoku', capital: 'æ¾å±±å¸‚', capitalKana: 'ã¾ã¤ã‚„ã¾ã—', specialties: 'ã¿ã‹ã‚“ãƒ»<ruby>é¯›<rt>ãŸã„</rt></ruby>ã‚ã—ãƒ»<ruby>ä»Š<rt>ã„ã¾</rt>æ²»<rt>ã°ã‚Š</rt></ruby>ã‚¿ã‚ªãƒ«', capitalFeatures: '<ruby>é“<rt>ã©ã†</rt>å¾Œ<rt>ã”</rt>æ¸©<rt>ãŠã‚“</rt>æ³‰<rt>ã›ã‚“</rt></ruby>ãƒ»<ruby>åŠ<rt>ã¼ã†</rt></ruby>ã£ã¡ã‚ƒã‚“' },
            kochi: { name: 'é«˜çŸ¥çœŒ', kana: 'ã“ã†ã¡ã‘ã‚“', region: 'shikoku', capital: 'é«˜çŸ¥å¸‚', capitalKana: 'ã“ã†ã¡ã—', specialties: 'ã‚«ãƒ„ã‚ªãƒ»<ruby>æ–‡<rt>ã¶ã‚“</rt>æ—¦<rt>ãŸã‚“</rt></ruby>ãƒ»ã‚†ãš', capitalFeatures: 'ã‚«ãƒ„ã‚ªãƒ»ã‚ˆã•ã“ã„ãƒ»<ruby>å‚<rt>ã•ã‹</rt>æœ¬<rt>ã‚‚ã¨</rt>é¾<rt>ã‚Šã‚‡ã†</rt>é¦¬<rt>ã¾</rt></ruby>' },
            fukuoka: { name: 'ç¦å²¡çœŒ', kana: 'ãµããŠã‹ã‘ã‚“', region: 'kyushu-okinawa', capital: 'ç¦å²¡å¸‚', capitalKana: 'ãµããŠã‹ã—', specialties: '<ruby>æ˜<rt>ã‚ã‚“</rt>å¤ª<rt>ãŸã„</rt>å­<rt>ã“</rt></ruby>ãƒ»ãƒ©ãƒ¼ãƒ¡ãƒ³ãƒ»ã‚ã¾ãŠã†', capitalFeatures: '<ruby>åš<rt>ã¯ã‹</rt>å¤š<rt>ãŸ</rt></ruby>ãƒ©ãƒ¼ãƒ¡ãƒ³ãƒ»<ruby>å±‹<rt>ã‚„</rt>å°<rt>ãŸã„</rt></ruby>ãƒ»<ruby>ç¥­<rt>ã¾ã¤</rt></ruby>ã‚Š' },
            saga: { name: 'ä½è³€çœŒ', kana: 'ã•ãŒã‘ã‚“', region: 'kyushu-okinawa', capital: 'ä½è³€å¸‚', capitalKana: 'ã•ãŒã—', specialties: '<ruby>æœ‰<rt>ã‚ã‚Š</rt>ç”°<rt>ãŸ</rt></ruby><ruby>ç„¼<rt>ã‚„</rt></ruby>ããƒ»<ruby>ä½<rt>ã•</rt>è³€<rt>ãŒ</rt>ç‰›<rt>ãã‚…ã†</rt></ruby>ãƒ»<ruby>å‘¼<rt>ã‚ˆ</rt>å­<rt>ã¶</rt></ruby>ã®ã‚¤ã‚«', capitalFeatures: 'ãƒãƒ«ãƒ¼ãƒ³ãƒ»<ruby>æœ‰<rt>ã‚ã‚Š</rt>æ˜<rt>ã‚ã‘</rt>æµ·<rt>ã‹ã„</rt></ruby>' },
            nagasaki: { name: 'é•·å´çœŒ', kana: 'ãªãŒã•ãã‘ã‚“', region: 'kyushu-okinawa', capital: 'é•·å´å¸‚', capitalKana: 'ãªãŒã•ãã—', specialties: 'ã‚«ã‚¹ãƒ†ãƒ©ãƒ»ã¡ã‚ƒã‚“ã½ã‚“ãƒ»<ruby>çš¿<rt>ã•ã‚‰</rt></ruby>ã†ã©ã‚“', capitalFeatures: 'ã‚°ãƒ©ãƒãƒ¼<ruby>åœ’<rt>ãˆã‚“</rt></ruby>ãƒ»ã¡ã‚ƒã‚“ã½ã‚“' },
            kumamoto: { name: 'ç†Šæœ¬çœŒ', kana: 'ãã¾ã‚‚ã¨ã‘ã‚“', region: 'kyushu-okinawa', capital: 'ç†Šæœ¬å¸‚', capitalKana: 'ãã¾ã‚‚ã¨ã—', specialties: '<ruby>é¦¬<rt>ã°</rt>åˆº<rt>ã•</rt></ruby>ã—ãƒ»ã‹ã‚‰ã—<ruby>è“®<rt>ã‚Œã‚“</rt>æ ¹<rt>ã“ã‚“</rt></ruby>ãƒ»ã‚¹ã‚¤ã‚«', capitalFeatures: '<ruby>ç†Š<rt>ãã¾</rt>æœ¬<rt>ã‚‚ã¨</rt>åŸ<rt>ã˜ã‚‡ã†</rt></ruby>ãƒ»<ruby>é¦¬<rt>ã°</rt>åˆº<rt>ã•</rt></ruby>ã—ãƒ»<ruby>æ°´<rt>ã¿ãš</rt></ruby>' },
            oita: { name: 'å¤§åˆ†çœŒ', kana: 'ãŠãŠã„ãŸã‘ã‚“', region: 'kyushu-okinawa', capital: 'å¤§åˆ†å¸‚', capitalKana: 'ãŠãŠã„ãŸã—', specialties: '<ruby>æ¸©<rt>ãŠã‚“</rt>æ³‰<rt>ã›ã‚“</rt></ruby>ãƒ»ã¨ã‚Š<ruby>å¤©<rt>ã¦ã‚“</rt></ruby>ãƒ»ã‹ã¼ã™', capitalFeatures: '<ruby>æ¸©<rt>ãŠã‚“</rt>æ³‰<rt>ã›ã‚“</rt></ruby>ãƒ»<ruby>é–¢<rt>ã›ã</rt></ruby>ã‚µãƒãƒ»<ruby>é–¢<rt>ã›ã</rt></ruby>ã‚¢ã‚¸' },
            miyazaki: { name: 'å®®å´çœŒ', kana: 'ã¿ã‚„ã–ãã‘ã‚“', region: 'kyushu-okinawa', capital: 'å®®å´å¸‚', capitalKana: 'ã¿ã‚„ã–ãã—', specialties: 'ãƒãƒ³ã‚´ãƒ¼ãƒ»<ruby>åœ°<rt>ã˜</rt>é¶<rt>ã©ã‚Š</rt></ruby>ãƒ»<ruby>æ—¥<rt>ã²ã‚…ã†</rt>å‘<rt>ãŒ</rt>å¤<rt>ãªã¤</rt></ruby>', capitalFeatures: '<ruby>å—<rt>ãªã‚“</rt>å›½<rt>ã”ã</rt></ruby>ãƒ»ãƒã‚­ãƒ³<ruby>å—<rt>ãªã‚“</rt>è›®<rt>ã°ã‚“</rt></ruby>ãƒ»<ruby>å¤ª<rt>ãŸã„</rt>é™½<rt>ã‚ˆã†</rt></ruby>' },
            kagoshima: { name: 'é¹¿å…å³¶çœŒ', kana: 'ã‹ã”ã—ã¾ã‘ã‚“', region: 'kyushu-okinawa', capital: 'é¹¿å…å³¶å¸‚', capitalKana: 'ã‹ã”ã—ã¾ã—', specialties: '<ruby>é»’<rt>ãã‚</rt>è±š<rt>ã¶ãŸ</rt></ruby>ãƒ»ã•ã¤ã¾ã„ã‚‚ãƒ»<ruby>ç„¼<rt>ã—ã‚‡ã†</rt>é…<rt>ã¡ã‚…ã†</rt></ruby>', capitalFeatures: '<ruby>æ¡œ<rt>ã•ãã‚‰</rt>å³¶<rt>ã˜ã¾</rt></ruby>ãƒ»<ruby>é»’<rt>ãã‚</rt>è±š<rt>ã¶ãŸ</rt></ruby>ãƒ»<ruby>ç„¼<rt>ã—ã‚‡ã†</rt>é…<rt>ã¡ã‚…ã†</rt></ruby>' },
            okinawa: { name: 'æ²–ç¸„çœŒ', kana: 'ãŠããªã‚ã‘ã‚“', region: 'kyushu-okinawa', capital: 'é‚£è¦‡å¸‚', capitalKana: 'ãªã¯ã—', specialties: 'ã‚´ãƒ¼ãƒ¤ãƒ»ãƒ‘ã‚¤ãƒŠãƒƒãƒ—ãƒ«ãƒ»<ruby>ç´…<rt>ã¹ã«</rt></ruby>ã„ã‚‚', capitalFeatures: '<ruby>é¦–<rt>ã—ã‚…</rt>é‡Œ<rt>ã‚Š</rt>åŸ<rt>ã˜ã‚‡ã†</rt></ruby>ãƒ»<ruby>å›½<rt>ã“ã</rt>éš›<rt>ã•ã„</rt>é€š<rt>ã©ãŠ</rt></ruby>ã‚Š' }
        };

        // ãƒ¢ãƒ¼ãƒ‰åã®æ—¥æœ¬èªå¯¾å¿œ
        const modeNames = {
            'prefecture': 'ğŸï¸ <ruby>éƒ½<rt>ã¨</rt>é“<rt>ã©ã†</rt>åºœ<rt>ãµ</rt>çœŒ<rt>ã‘ã‚“</rt>å<rt>ã‚ã„</rt></ruby>',
            'capital': 'ğŸ›ï¸ <ruby>çœŒ<rt>ã‘ã‚“</rt>åº<rt>ã¡ã‚‡ã†</rt>æ‰€<rt>ã—ã‚‡</rt>åœ¨<rt>ã–ã„</rt>åœ°<rt>ã¡</rt></ruby>',
            'mixed': 'ğŸ”— <ruby>çœŒ<rt>ã‘ã‚“</rt>å<rt>ã‚ã„</rt></ruby>â‡”<ruby>çœŒ<rt>ã‘ã‚“</rt>åº<rt>ã¡ã‚‡ã†</rt>æ‰€<rt>ã—ã‚‡</rt>åœ¨<rt>ã–ã„</rt>åœ°<rt>ã¡</rt></ruby>'
        };

        // åœ°æ–¹åã®æ—¥æœ¬èªå¯¾å¿œ
        const regionNames = {
            'hokkaido-tohoku': 'ğŸ”ï¸ <ruby>åŒ—<rt>ã»ã£</rt>æµ·<rt>ã‹ã„</rt>é“<rt>ã©ã†</rt></ruby>ãƒ»<ruby>æ±<rt>ã¨ã†</rt>åŒ—<rt>ã»ã</rt></ruby>',
            'kanto': 'ğŸ™ï¸ <ruby>é–¢<rt>ã‹ã‚“</rt>æ±<rt>ã¨ã†</rt>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby>',
            'chubu': 'ğŸ—» <ruby>ä¸­<rt>ã¡ã‚…ã†</rt>éƒ¨<rt>ã¶</rt>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby>',
            'kinki': 'ğŸ¯ <ruby>è¿‘<rt>ãã‚“</rt>ç•¿<rt>ã</rt>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby>',
            'chugoku': 'â›©ï¸ <ruby>ä¸­<rt>ã¡ã‚…ã†</rt>å›½<rt>ã”ã</rt>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby>',
            'shikoku': 'ğŸŒŠ <ruby>å››<rt>ã—</rt>å›½<rt>ã“ã</rt>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby>',
            'kyushu-okinawa': 'ğŸŒº <ruby>ä¹<rt>ãã‚…ã†</rt>å·<rt>ã—ã‚…ã†</rt></ruby>ãƒ»<ruby>æ²–<rt>ãŠã</rt>ç¸„<rt>ãªã‚</rt>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby>'
        };

        // ã‚²ãƒ¼ãƒ çŠ¶æ…‹
        let selectedGameMode = '';
        let selectedRegions = [];
        let gameCards = [];
        let flippedCards = [];
        let matchedPairs = 0;
        let totalPairs = 0;
        let startTime = 0;
        let gameTimer = null;
        let rubyEnabled = true;

        // DOMè¦ç´ ã®å–å¾—
        const modeScreen = document.getElementById('modeScreen');
        const regionScreen = document.getElementById('regionScreen');
        const gameScreen = document.getElementById('gameScreen');
        const clearScreen = document.getElementById('clearScreen');
        const modeButtons = document.querySelectorAll('.mode-btn');
        const regionButtons = document.querySelectorAll('.region-btn');
        const selectedModeDisplay = document.getElementById('selectedModeDisplay');
        const selectedRegionsDisplay = document.getElementById('selectedRegionsDisplay');
        const nextToRegionBtn = document.getElementById('nextToRegionBtn');
        const backToModeBtn = document.getElementById('backToModeBtn');
        const startGameBtn = document.getElementById('startGameBtn');
        const backToRegionBtn = document.getElementById('backToRegionBtn');
        const playAgainBtn = document.getElementById('playAgainBtn');
        const selectedRegionCount = document.getElementById('selectedRegionCount');
        const gameBoard = document.getElementById('gameBoard');
        const matchDisplay = document.getElementById('matchDisplay');
        const matchedInfo = document.getElementById('matchedInfo');
        const matchCount = document.getElementById('matchCount');
        const totalPairsEl = document.getElementById('totalPairs');
        const gameTimerEl = document.getElementById('gameTimer');
        const finalTimeEl = document.getElementById('finalTime');
        const rubyToggleBtn = document.getElementById('rubyToggle');

        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®è¨­å®š
        window.addEventListener('load', () => {
            console.log('ğŸ® éƒ½é“åºœçœŒç¥çµŒè¡°å¼±ã‚²ãƒ¼ãƒ èª­ã¿è¾¼ã¿å®Œäº†');
            
            // ãƒ¢ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
            modeButtons.forEach(btn => {
                btn.addEventListener('click', () => selectGameMode(btn));
            });

            // åœ°æ–¹ãƒœã‚¿ãƒ³ã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
            regionButtons.forEach(btn => {
                btn.addEventListener('click', () => toggleRegion(btn));
            });

            // ãã®ä»–ã®ãƒœã‚¿ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼
            nextToRegionBtn.addEventListener('click', showRegionScreen);
            backToModeBtn.addEventListener('click', backToModeScreen);
            startGameBtn.addEventListener('click', startGame);
            backToRegionBtn.addEventListener('click', backToRegionScreen);
            playAgainBtn.addEventListener('click', resetGame);
        });

        // ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰é¸æŠå‡¦ç†
        function selectGameMode(btn) {
            const mode = btn.dataset.mode;
            
            // ä»–ã®ãƒœã‚¿ãƒ³ã®é¸æŠçŠ¶æ…‹ã‚’ã‚¯ãƒªã‚¢
            modeButtons.forEach(b => b.classList.remove('selected'));
            
            // é¸æŠã•ã‚ŒãŸãƒœã‚¿ãƒ³ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«
            btn.classList.add('selected');
            selectedGameMode = mode;
            
            updateModeUI();
            console.log(`ğŸ¯ ã‚²ãƒ¼ãƒ ãƒ¢ãƒ¼ãƒ‰é¸æŠ: ${mode}`);
        }

        // ãƒ¢ãƒ¼ãƒ‰é¸æŠUIã®æ›´æ–°
        function updateModeUI() {
            if (selectedGameMode) {
                selectedModeDisplay.innerHTML = `
                    <span class="selected-region-tag">
                        ${modeNames[selectedGameMode]}
                        <i class="fas fa-check"></i>
                    </span>
                `;
                nextToRegionBtn.disabled = false;
            } else {
                selectedModeDisplay.innerHTML = '<span class="text-gray-500"><ruby>ã‚²ãƒ¼ãƒ <rt>ã’ãƒ¼ã‚€</rt>ãƒ¢ãƒ¼ãƒ‰<rt>ã‚‚ãƒ¼ã©</rt></ruby>ã‚’<ruby>é¸<rt>ã›ã‚“</rt>æŠ<rt>ãŸã</rt></ruby>ã—ã¦ãã ã•ã„</span>';
                nextToRegionBtn.disabled = true;
            }
        }

        // åœ°æ–¹é¸æŠå‡¦ç†
        function toggleRegion(btn) {
            const region = btn.dataset.region;
            
            if (selectedRegions.includes(region)) {
                // æ—¢ã«é¸æŠæ¸ˆã¿ã®å ´åˆã¯å‰Šé™¤
                selectedRegions = selectedRegions.filter(r => r !== region);
                btn.classList.remove('selected');
            } else {
                // æ–°è¦é¸æŠï¼ˆæœ€å¤§3ã¤ã¾ã§ï¼‰
                if (selectedRegions.length < 3) {
                    selectedRegions.push(region);
                    btn.classList.add('selected');
                }
            }
            
            updateRegionUI();
            console.log(`ğŸ“ åœ°æ–¹é¸æŠæ›´æ–°: ${selectedRegions.join(', ')}`);
        }

        // åœ°æ–¹é¸æŠUIã®æ›´æ–°
        function updateRegionUI() {
            selectedRegionCount.innerHTML = `<ruby>é¸<rt>ã›ã‚“</rt>æŠ<rt>ãŸã</rt>æ¸ˆ<rt>ãš</rt></ruby>ã¿: ${selectedRegions.length}/3`;
            startGameBtn.disabled = selectedRegions.length === 0;
            
            if (selectedRegions.length === 0) {
                selectedRegionsDisplay.innerHTML = '<span class="text-gray-500"><ruby>åœ°<rt>ã¡</rt>æ–¹<rt>ã»ã†</rt></ruby>ã‚’<ruby>é¸<rt>ã›ã‚“</rt>æŠ<rt>ãŸã</rt></ruby>ã—ã¦ãã ã•ã„</span>';
            } else {
                selectedRegionsDisplay.innerHTML = selectedRegions.map(region => 
                    `<span class="selected-region-tag" onclick="removeRegion('${region}')">
                        ${regionNames[region]}
                        <i class="fas fa-times"></i>
                    </span>`
                ).join('');
            }
        }

        // åœ°æ–¹é¸æŠã®å‰Šé™¤
        function removeRegion(region) {
            selectedRegions = selectedRegions.filter(r => r !== region);
            // ãƒœã‚¿ãƒ³ã®é¸æŠçŠ¶æ…‹ã‚‚è§£é™¤
            regionButtons.forEach(btn => {
                if (btn.dataset.region === region) {
                    btn.classList.remove('selected');
                }
            });
            updateRegionUI();
        }

        // ç”»é¢é·ç§»é–¢æ•°
        function showRegionScreen() {
            modeScreen.classList.add('hidden');
            regionScreen.classList.remove('hidden');
        }

        function backToModeScreen() {
            regionScreen.classList.add('hidden');
            modeScreen.classList.remove('hidden');
        }

        function backToRegionScreen() {
            gameScreen.classList.add('hidden');
            regionScreen.classList.remove('hidden');
            if (gameTimer) {
                clearInterval(gameTimer);
                gameTimer = null;
            }
        }

        // ã‚²ãƒ¼ãƒ é–‹å§‹
        function startGame() {
            console.log(`ğŸ® ã‚²ãƒ¼ãƒ é–‹å§‹: ãƒ¢ãƒ¼ãƒ‰=${selectedGameMode}, åœ°æ–¹=${selectedRegions.join(',')}`);
            
            // é¸æŠã•ã‚ŒãŸåœ°æ–¹ã®éƒ½é“åºœçœŒã‚’å–å¾—
            const prefectures = Object.values(prefectureData).filter(pref => 
                selectedRegions.includes(pref.region)
            );

            // ã‚«ãƒ¼ãƒ‰ã‚’ä½œæˆ
            gameCards = [];
            prefectures.forEach(pref => {
                if (selectedGameMode === 'prefecture') {
                    // éƒ½é“åºœçœŒåãƒ¢ãƒ¼ãƒ‰ï¼ˆæ¼¢å­—â‡”ã²ã‚‰ãŒãªï¼‰
                    gameCards.push({
                        id: `${pref.name}-kanji`,
                        type: 'kanji',
                        content: pref.name,
                        reading: pref.kana,
                        pairId: pref.name,
                        specialties: pref.specialties
                    });
                    gameCards.push({
                        id: `${pref.name}-hiragana`,
                        type: 'hiragana',
                        content: pref.kana,
                        reading: pref.name,
                        pairId: pref.name,
                        specialties: pref.specialties
                    });
                } else if (selectedGameMode === 'capital') {
                    // çœŒåºæ‰€åœ¨åœ°ãƒ¢ãƒ¼ãƒ‰ï¼ˆæ¼¢å­—â‡”ã²ã‚‰ãŒãªï¼‰
                    gameCards.push({
                        id: `${pref.capital}-kanji`,
                        type: 'kanji',
                        content: pref.capital,
                        reading: pref.capitalKana,
                        pairId: pref.capital,
                        prefecture: pref.name,
                        features: pref.capitalFeatures
                    });
                    gameCards.push({
                        id: `${pref.capital}-hiragana`,
                        type: 'hiragana',
                        content: pref.capitalKana,
                        reading: pref.capital,
                        pairId: pref.capital,
                        prefecture: pref.name,
                        features: pref.capitalFeatures
                    });
                } else if (selectedGameMode === 'mixed') {
                    // æ··åˆãƒ¢ãƒ¼ãƒ‰ï¼ˆçœŒåâ‡”çœŒåºæ‰€åœ¨åœ°ï¼‰
                    gameCards.push({
                        id: `${pref.name}-pref`,
                        type: 'kanji',
                        content: pref.name,
                        reading: pref.kana,
                        pairId: `${pref.name}-${pref.capital}`,
                        partner: pref.capital,
                        specialties: pref.specialties
                    });
                    gameCards.push({
                        id: `${pref.capital}-cap`,
                        type: 'hiragana',
                        content: pref.capital,
                        reading: pref.capitalKana,
                        pairId: `${pref.name}-${pref.capital}`,
                        partner: pref.name,
                        features: pref.capitalFeatures
                    });
                }
            });

            // ã‚«ãƒ¼ãƒ‰ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«
            shuffleArray(gameCards);
            
            totalPairs = gameCards.length / 2;
            matchedPairs = 0;
            
            // UIæ›´æ–°
            totalPairsEl.textContent = totalPairs;
            matchCount.textContent = matchedPairs;
            
            // ã‚¿ã‚¤ãƒãƒ¼é–‹å§‹
            startTimer();
            
            // ã‚²ãƒ¼ãƒ ç”»é¢ã«åˆ‡ã‚Šæ›¿ãˆ
            regionScreen.classList.add('hidden');
            gameScreen.classList.remove('hidden');
            
            renderGameBoard();
        }

        // ã‚²ãƒ¼ãƒ ãƒœãƒ¼ãƒ‰æç”»
        function renderGameBoard() {
            const cols = Math.ceil(Math.sqrt(gameCards.length));
            gameBoard.style.gridTemplateColumns = `repeat(${cols}, 1fr)`;
            gameBoard.innerHTML = '';
            
            gameCards.forEach((card, index) => {
                const cardEl = document.createElement('div');
                cardEl.className = 'card h-24 w-full';
                cardEl.dataset.cardId = card.id;
                cardEl.innerHTML = `
                    <div class="card-inner h-full">
                        <div class="card-front">
                            <i class="fas fa-question text-4xl"></i>
                        </div>
                        <div class="card-back ${card.type}-card">
                            <div class="text-lg font-bold">${card.content}</div>
                        </div>
                    </div>
                `;
                
                cardEl.addEventListener('click', () => flipCard(cardEl, card));
                gameBoard.appendChild(cardEl);
            });
        }

        // ã‚«ãƒ¼ãƒ‰ã‚ãã‚Šå‡¦ç†
        function flipCard(cardEl, card) {
            if (cardEl.classList.contains('flipped') || 
                cardEl.classList.contains('matched') ||
                flippedCards.length >= 2) {
                return;
            }
            
            cardEl.classList.add('flipped');
            flippedCards.push({element: cardEl, card: card});
            
            // æ—¥æœ¬èªèª­ã¿ä¸Šã’
            speakJapanese(card.content);
            
            if (flippedCards.length === 2) {
                setTimeout(checkMatch, 1000);
            }
        }

        // ãƒšã‚¢åˆ¤å®š
        function checkMatch() {
            const [first, second] = flippedCards;
            
            if (first.card.pairId === second.card.pairId) {
                // ãƒãƒƒãƒã—ãŸå ´åˆ
                first.element.classList.add('matched', 'celebration');
                second.element.classList.add('matched', 'celebration');
                
                matchedPairs++;
                matchCount.textContent = matchedPairs;
                
                // ãƒãƒƒãƒæƒ…å ±ã‚’è¡¨ç¤º
                showMatchInfo(first.card, second.card);
                
                // ã‚²ãƒ¼ãƒ ã‚¯ãƒªã‚¢åˆ¤å®š
                if (matchedPairs === totalPairs) {
                    setTimeout(() => {
                        stopTimer();
                        showClearScreen();
                    }, 2000);
                }
            } else {
                // ãƒãƒƒãƒã—ãªã‹ã£ãŸå ´åˆ
                setTimeout(() => {
                    first.element.classList.remove('flipped');
                    second.element.classList.remove('flipped');
                }, 500);
            }
            
            flippedCards = [];
        }

        // ãƒãƒƒãƒæƒ…å ±è¡¨ç¤º
        function showMatchInfo(card1, card2) {
            let infoText = '';
            
            if (selectedGameMode === 'prefecture') {
                infoText = `ğŸï¸ ${card1.type === 'kanji' ? card1.content : card2.content}<br>
                           <small><ruby>å<rt>ã‚ã„</rt>ç”£<rt>ã•ã‚“</rt>å“<rt>ã²ã‚“</rt></ruby>: ${card1.specialties || card2.specialties}</small>`;
            } else if (selectedGameMode === 'capital') {
                infoText = `ğŸ›ï¸ ${card1.type === 'kanji' ? card1.content : card2.content}<br>
                           <small><ruby>ç‰¹<rt>ã¨ã</rt>å¾´<rt>ã¡ã‚‡ã†</rt></ruby>: ${card1.features || card2.features}</small>`;
            } else if (selectedGameMode === 'mixed') {
                const prefCard = card1.type === 'kanji' ? card1 : card2;
                const capCard = card1.type === 'hiragana' ? card1 : card2;
                infoText = `ğŸ”— ${prefCard.content} â‡” ${capCard.content}<br>
                           <small>${prefCard.specialties}</small>`;
            }
            
            matchedInfo.innerHTML = infoText;
            matchDisplay.classList.remove('hidden');
            matchDisplay.classList.add('pulse');
            
            setTimeout(() => {
                matchDisplay.classList.add('hidden');
                matchDisplay.classList.remove('pulse');
            }, 3000);
        }

        // æ—¥æœ¬èªéŸ³å£°èª­ã¿ä¸Šã’
        function speakJapanese(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'ja-JP';
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
            }
        }

        // ã‚¿ã‚¤ãƒãƒ¼æ©Ÿèƒ½
        function startTimer() {
            startTime = Date.now();
            gameTimer = setInterval(updateTimer, 1000);
        }

        function updateTimer() {
            const elapsed = Math.floor((Date.now() - startTime) / 1000);
            const minutes = Math.floor(elapsed / 60);
            const seconds = elapsed % 60;
            gameTimerEl.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function stopTimer() {
            if (gameTimer) {
                clearInterval(gameTimer);
                gameTimer = null;
            }
            const elapsed = Math.floor((Date.now() - startTime) / 1000);
            const minutes = Math.floor(elapsed / 60);
            const seconds = elapsed % 60;
            const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            finalTimeEl.textContent = timeString;
            return timeString;
        }

        // ã‚¯ãƒªã‚¢ç”»é¢è¡¨ç¤º
        function showClearScreen() {
            gameScreen.classList.add('hidden');
            clearScreen.classList.remove('hidden');
        }

        // ã‚²ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ
        function resetGame() {
            selectedGameMode = '';
            selectedRegions = [];
            modeButtons.forEach(btn => btn.classList.remove('selected'));
            regionButtons.forEach(btn => btn.classList.remove('selected'));
            clearScreen.classList.add('hidden');
            modeScreen.classList.remove('hidden');
            if (gameTimer) {
                clearInterval(gameTimer);
                gameTimer = null;
            }
            updateModeUI();
            updateRegionUI();
        }

        // é…åˆ—ã‚·ãƒ£ãƒƒãƒ•ãƒ«
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // ãƒ«ãƒ“è¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆæ©Ÿèƒ½
        function toggleRuby() {
            rubyEnabled = !rubyEnabled;
            const body = document.body;
            
            if (rubyEnabled) {
                body.classList.remove('ruby-hidden');
                rubyToggleBtn.innerHTML = '<i class="fas fa-font"></i> <ruby>ãƒ«ãƒ“<rt>ã‚‹ã³</rt></ruby><ruby>è¡¨<rt>ã²ã‚‡ã†</rt>ç¤º<rt>ã˜</rt></ruby>';
                rubyToggleBtn.classList.remove('ruby-off');
            } else {
                body.classList.add('ruby-hidden');
                rubyToggleBtn.innerHTML = '<i class="fas fa-font"></i> ãƒ«ãƒ“éè¡¨ç¤º';
                rubyToggleBtn.classList.add('ruby-off');
            }
        }

        // ã‚°ãƒ­ãƒ¼ãƒãƒ«é–¢æ•°ã¨ã—ã¦å®šç¾©ï¼ˆHTMLã‹ã‚‰å‘¼ã³å‡ºã™ãŸã‚ï¼‰
        window.removeRegion = removeRegion;
        window.toggleRuby = toggleRuby;

        console.log('ğŸ® éƒ½é“åºœçœŒç¥çµŒè¡°å¼±ã‚²ãƒ¼ãƒ  - åˆæœŸåŒ–å®Œäº†');
    </script>
</body>
</html>